<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<!--
  Python Tutor: https://github.com/pgbovine/OnlinePythonTutor/
  Copyright (C) Philip Guo (philip@pgbovine.net)
  LICENSE: https://github.com/pgbovine/OnlinePythonTutor/blob/master/LICENSE.txt
-->

<head>
  <title>CS 220 - Advanced Functions</title>

  <script type="text/javascript" src="../js/pytutor-embed.bundle.js" charset="utf-8"></script>

</head>

<body style="background-color: white;">

<h1>Function References</h1>
  
<h2>References to Functions and Other Objects</h2>

<div id="lec-24_p1_py"></div>
<script type="text/javascript">
  var trace = {"code": "x = [1,2,3]\ny = x\n\ndef f():\n    return \"hi\"\n\ng = f\n\nz = f()", "trace": [{"line": 1, "event": "step_line", "func_name": "<module>", "globals": {}, "ordered_globals": [], "stack_to_render": [], "heap": {}, "stdout": ""}, {"line": 2, "event": "step_line", "func_name": "<module>", "globals": {"x": ["REF", 1]}, "ordered_globals": ["x"], "stack_to_render": [], "heap": {"1": ["LIST", 1, 2, 3]}, "stdout": ""}, {"line": 4, "event": "step_line", "func_name": "<module>", "globals": {"x": ["REF", 1], "y": ["REF", 1]}, "ordered_globals": ["x", "y"], "stack_to_render": [], "heap": {"1": ["LIST", 1, 2, 3]}, "stdout": ""}, {"line": 7, "event": "step_line", "func_name": "<module>", "globals": {"x": ["REF", 1], "y": ["REF", 1], "f": ["REF", 2]}, "ordered_globals": ["x", "y", "f"], "stack_to_render": [], "heap": {"1": ["LIST", 1, 2, 3], "2": ["FUNCTION", "f()", null]}, "stdout": ""}, {"line": 9, "event": "step_line", "func_name": "<module>", "globals": {"x": ["REF", 1], "y": ["REF", 1], "f": ["REF", 2], "g": ["REF", 2]}, "ordered_globals": ["x", "y", "f", "g"], "stack_to_render": [], "heap": {"1": ["LIST", 1, 2, 3], "2": ["FUNCTION", "f()", null]}, "stdout": ""}, {"line": 4, "event": "call", "func_name": "f", "globals": {"x": ["REF", 1], "y": ["REF", 1], "f": ["REF", 2], "g": ["REF", 2]}, "ordered_globals": ["x", "y", "f", "g"], "stack_to_render": [{"func_name": "f", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "f_f1"}], "heap": {"1": ["LIST", 1, 2, 3], "2": ["FUNCTION", "f()", null]}, "stdout": ""}, {"line": 5, "event": "step_line", "func_name": "f", "globals": {"x": ["REF", 1], "y": ["REF", 1], "f": ["REF", 2], "g": ["REF", 2]}, "ordered_globals": ["x", "y", "f", "g"], "stack_to_render": [{"func_name": "f", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "f_f1"}], "heap": {"1": ["LIST", 1, 2, 3], "2": ["FUNCTION", "f()", null]}, "stdout": ""}, {"line": 5, "event": "return", "func_name": "f", "globals": {"x": ["REF", 1], "y": ["REF", 1], "f": ["REF", 2], "g": ["REF", 2]}, "ordered_globals": ["x", "y", "f", "g"], "stack_to_render": [{"func_name": "f", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"__return__": "hi"}, "ordered_varnames": ["__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "f_f1"}], "heap": {"1": ["LIST", 1, 2, 3], "2": ["FUNCTION", "f()", null]}, "stdout": ""}, {"line": 9, "event": "return", "func_name": "<module>", "globals": {"x": ["REF", 1], "y": ["REF", 1], "f": ["REF", 2], "g": ["REF", 2], "z": "hi"}, "ordered_globals": ["x", "y", "f", "g", "z"], "stack_to_render": [], "heap": {"1": ["LIST", 1, 2, 3], "2": ["FUNCTION", "f()", null]}, "stdout": ""}]};
  addVisualizerToPage(trace, 'lec-24_p1_py',  {startingInstruction: 0, hideCode: false, lang: "py3", disableHeapNesting: true});
</script>

<h2>Passing a Function Reference to a Function</h2>

<div id="lec-24_p2_py"></div>
<script type="text/javascript">
  var trace = {"code": "def hi():\n    print(\"hi\")\n\ndef call_n_times(f, n):\n    for i in range(n):\n        f()\n\ncall_n_times(f=hi, n=3)\n", "trace": [{"line": 1, "event": "step_line", "func_name": "<module>", "globals": {}, "ordered_globals": [], "stack_to_render": [], "heap": {}, "stdout": ""}, {"line": 4, "event": "step_line", "func_name": "<module>", "globals": {"hi": ["REF", 1]}, "ordered_globals": ["hi"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "hi()", null]}, "stdout": ""}, {"line": 8, "event": "step_line", "func_name": "<module>", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": ""}, {"line": 4, "event": "call", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3}, "ordered_varnames": ["f", "n"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": ""}, {"line": 5, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3}, "ordered_varnames": ["f", "n"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": ""}, {"line": 6, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 0}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": ""}, {"line": 1, "event": "call", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 0}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 2, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f2"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": ""}, {"line": 2, "event": "step_line", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 0}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 2, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f2"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": ""}, {"line": 2, "event": "return", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 0}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 2, "parent_frame_id_list": [], "encoded_locals": {"__return__": null}, "ordered_varnames": ["__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f2"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\n"}, {"line": 5, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 0}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\n"}, {"line": 6, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 1}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\n"}, {"line": 1, "event": "call", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 1}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 3, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f3"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\n"}, {"line": 2, "event": "step_line", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 1}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 3, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f3"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\n"}, {"line": 2, "event": "return", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 1}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 3, "parent_frame_id_list": [], "encoded_locals": {"__return__": null}, "ordered_varnames": ["__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f3"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\n"}, {"line": 5, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 1}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\n"}, {"line": 6, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 2}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\n"}, {"line": 1, "event": "call", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 2}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 4, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f4"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\n"}, {"line": 2, "event": "step_line", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 2}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 4, "parent_frame_id_list": [], "encoded_locals": {}, "ordered_varnames": [], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f4"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\n"}, {"line": 2, "event": "return", "func_name": "hi", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 2}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": false, "unique_hash": "call_n_times_f1"}, {"func_name": "hi", "is_parent": false, "frame_id": 4, "parent_frame_id_list": [], "encoded_locals": {"__return__": null}, "ordered_varnames": ["__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "hi_f4"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\nhi\n"}, {"line": 5, "event": "step_line", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 2}, "ordered_varnames": ["f", "n", "i"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\nhi\n"}, {"line": 5, "event": "return", "func_name": "call_n_times", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [{"func_name": "call_n_times", "is_parent": false, "frame_id": 1, "parent_frame_id_list": [], "encoded_locals": {"f": ["REF", 1], "n": 3, "i": 2, "__return__": null}, "ordered_varnames": ["f", "n", "i", "__return__"], "is_zombie": false, "is_highlighted": true, "unique_hash": "call_n_times_f1"}], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\nhi\n"}, {"line": 8, "event": "return", "func_name": "<module>", "globals": {"hi": ["REF", 1], "call_n_times": ["REF", 2]}, "ordered_globals": ["hi", "call_n_times"], "stack_to_render": [], "heap": {"1": ["FUNCTION", "hi()", null], "2": ["FUNCTION", "call_n_times(f, n)", null]}, "stdout": "hi\nhi\nhi\n"}]};
  addVisualizerToPage(trace, 'lec-24_p2_py',  {startingInstruction: 0, hideCode: false, lang: "py3", disableHeapNesting: true});
</script>






</body>
</html>
